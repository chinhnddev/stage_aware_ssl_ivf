data:
  supervised_csv: "data-curation/metadata_supervised.csv"
  cross_csv: "data-curation/metadata_crossdomain_test_quality.csv"
  target_unlabeled_csv: ""
  root_map:
    hv_kaggle: "/content/data/hv_hospital_day3_day5"
    hv_clinical: "/content/data/HungVuong_hospital_dataset/Human embryo image datasets"
  img_size: 224
  batch_size: 32
  num_workers: 4

model:
  backbone_name: "vit_base_patch16_224"
  pretrained: true
  checkpoint: ""
  from_byol_ckpt: false
  domain_alignment: "grl"
  lambda_domain_align: 1.0

wp3:
  token_dim: 512
  adapter:
    use_adapter: true
    use_domain_token: true
    use_stage_token: true
  morph:
    num_experts: 4
    num_heads: 4
    use_sin: true
  gen:
    depth: 2
    num_heads: 4
    dim_ff: 512
    use_stage_cross_attn: true
    use_domain_align: true
    domain_alignment: "grl"
    num_domains: 3
    grl_lambda: 1.0

wp4:
  use_stage_head: true
  lambda_stage: 0.5
  stage_classes:
    D3: 0
    D5: 1
    ED1: 2
    ED2: 3
    ED3: 4
    ED4: 5
    UNK: 6
  quality_head:
    hidden: 256
    dropout: 0.2
    pos_weight: 1.0
    focal_gamma: 0.0

train:
  epochs: 15
  lr: 1.0e-3
  weight_decay: 1.0e-4
  fp16: false
  seed: 42

logging:
  out_dir: "outputs/wp4_alignment_grl"
